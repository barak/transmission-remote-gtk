From: "Barak A. Pearlmutter" <barak+git@pearlmutter.net>
Date: Mon, 2 Feb 2026 12:35:10 +0000
Subject: appstreamcli

Use appstreamcli instead of appstream-util.

See https://bugs.debian.org/1119105

See https://github.com/transmission-remote-gtk/transmission-remote-gtk/issues/269
---
 README.md        |  4 ++--
 data/meson.build | 10 +++++-----
 2 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/README.md b/README.md
index 93aae4a..8e9b349 100644
--- a/README.md
+++ b/README.md
@@ -36,14 +36,14 @@ transmission-remote-gtk uses meson for its build system. A relatively new
 version of meson is required.
 
  - meson >= 0.59.0
- - appstream-util (optional, appdata validation)
+ - appstream (optional, appdata validation using `appstreamcli validate`)
  - desktop-file-utils (optional, desktop file validation)
  - rst2man (optional, manpage generation)
 
 An example of getting the build dependencies for an Ubuntu/Debian system:
 
 ```
-# apt install gcc meson appstream-util python-docutils
+# apt install gcc meson appstream python-docutils
 ```
 
 **NOTE:** Ubuntu and other stable or LTS distros may have outdated versions of
diff --git a/data/meson.build b/data/meson.build
index 70a4799..776ef72 100644
--- a/data/meson.build
+++ b/data/meson.build
@@ -75,11 +75,11 @@ appdata_file = i18n.merge_file(
   po_dir: po_dir,
 )
 
-appstream_util = find_program('appstream-util', required: false)
-if appstream_util.found()
+appstreamcli = find_program('appstreamcli', required: false)
+if appstreamcli.found()
   test(
     'Validate appdata.xml',
-    appstream_util,
-    args: ['validate-relax', '--nonet', appdata_file],
+    appstreamcli,
+    args: ['validate', '--pedantic', '--explain', '--no-net', appdata_file],
   )
-endif
\ No newline at end of file
+endif
